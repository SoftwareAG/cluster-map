import * as tslib_1 from "tslib";
import { Component, Input, ViewChild, ContentChild } from '@angular/core';
import { AlertService } from './alert.service';
import { AlertDetailsComponent } from './alert-details.component';
var AlertComponent = /** @class */ (function () {
    function AlertComponent(alertService) {
        this.alertService = alertService;
    }
    AlertComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        if (!this.containDetailsComponent) {
            this.detailedData = null;
        }
        this.viewInitTimeout = setTimeout(function () {
            return _this.alertService.add(_this);
        });
    };
    AlertComponent.prototype.ngOnDestroy = function () {
        clearTimeout(this.viewInitTimeout);
        this.alertService.remove(this);
    };
    AlertComponent.ctorParameters = function () { return [
        { type: AlertService }
    ]; };
    tslib_1.__decorate([
        Input()
    ], AlertComponent.prototype, "type", void 0);
    tslib_1.__decorate([
        Input()
    ], AlertComponent.prototype, "onDetail", void 0);
    tslib_1.__decorate([
        Input()
    ], AlertComponent.prototype, "onClose", void 0);
    tslib_1.__decorate([
        ViewChild('detailedData', { static: false })
    ], AlertComponent.prototype, "detailedData", void 0);
    tslib_1.__decorate([
        ViewChild('text', { static: false })
    ], AlertComponent.prototype, "text", void 0);
    tslib_1.__decorate([
        ContentChild(AlertDetailsComponent, { static: false })
    ], AlertComponent.prototype, "containDetailsComponent", void 0);
    AlertComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-alert',
            template: "<ng-template #text>\r\n  <ng-content select=\"c8y-alert-text\"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select=\"c8y-alert-details\"></ng-content>\r\n</ng-template>"
        })
    ], AlertComponent);
    return AlertComponent;
}());
export { AlertComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbImNvcmUvYWxlcnQvYWxlcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFhLEtBQUssRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJGLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQU9sRTtJQVVFLHdCQUFtQixZQUEwQjtRQUExQixpQkFBWSxHQUFaLFlBQVksQ0FBYztJQUFHLENBQUM7SUFFakQsd0NBQWUsR0FBZjtRQUFBLGlCQU9DO1FBTkMsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtZQUNqQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztTQUMxQjtRQUNELElBQUksQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDO1lBQ2hDLE9BQUEsS0FBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSSxDQUFDO1FBQTNCLENBQTJCLENBQzVCLENBQUM7SUFDSixDQUFDO0lBRUQsb0NBQVcsR0FBWDtRQUNFLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQzs7Z0JBZGdDLFlBQVk7O0lBUnBDO1FBQVIsS0FBSyxFQUFFO2dEQUE0RDtJQUMzRDtRQUFSLEtBQUssRUFBRTtvREFBc0I7SUFDckI7UUFBUixLQUFLLEVBQUU7bURBQXFCO0lBQ2U7UUFBM0MsU0FBUyxDQUFDLGNBQWMsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUMsQ0FBQzt3REFBYztJQUNyQjtRQUFuQyxTQUFTLENBQUMsTUFBTSxFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBQyxDQUFDO2dEQUFNO0lBQ2E7UUFBckQsWUFBWSxDQUFDLHFCQUFxQixFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBQyxDQUFDO21FQUFnRDtJQVAxRixjQUFjO1FBTDFCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxXQUFXO1lBQ3JCLHNQQUFxQztTQUN0QyxDQUFDO09BRVcsY0FBYyxDQXlCMUI7SUFBRCxxQkFBQztDQUFBLEFBekJELElBeUJDO1NBekJZLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uRGVzdHJveSwgSW5wdXQsIFZpZXdDaGlsZCwgQ29udGVudENoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJy4vYWxlcnQubW9kZWwnO1xuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi9hbGVydC5zZXJ2aWNlJztcbmltcG9ydCB7IEFsZXJ0RGV0YWlsc0NvbXBvbmVudCB9IGZyb20gJy4vYWxlcnQtZGV0YWlscy5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktYWxlcnQnLFxuICB0ZW1wbGF0ZVVybDogJy4vYWxlcnQuY29tcG9uZW50Lmh0bWwnXG59KVxuXG5leHBvcnQgY2xhc3MgQWxlcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIEFsZXJ0IHtcblxuICBASW5wdXQoKSB0eXBlOiAnc3VjY2VzcycgfCAnd2FybmluZycgfCAnZGFuZ2VyJyB8ICdpbmZvJyB8ICdzeXN0ZW0nO1xuICBASW5wdXQoKSBvbkRldGFpbDogKCkgPT4gdm9pZDtcbiAgQElucHV0KCkgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgQFZpZXdDaGlsZCgnZGV0YWlsZWREYXRhJywge3N0YXRpYzogZmFsc2V9KSBkZXRhaWxlZERhdGE7XG4gIEBWaWV3Q2hpbGQoJ3RleHQnLCB7c3RhdGljOiBmYWxzZX0pIHRleHQ7XG4gIEBDb250ZW50Q2hpbGQoQWxlcnREZXRhaWxzQ29tcG9uZW50LCB7c3RhdGljOiBmYWxzZX0pIGNvbnRhaW5EZXRhaWxzQ29tcG9uZW50OiBBbGVydERldGFpbHNDb21wb25lbnQ7XG4gIHByaXZhdGUgdmlld0luaXRUaW1lb3V0O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBhbGVydFNlcnZpY2U6IEFsZXJ0U2VydmljZSkge31cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5EZXRhaWxzQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLmRldGFpbGVkRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMudmlld0luaXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PlxuICAgICAgdGhpcy5hbGVydFNlcnZpY2UuYWRkKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdJbml0VGltZW91dCk7XG4gICAgdGhpcy5hbGVydFNlcnZpY2UucmVtb3ZlKHRoaXMpO1xuICB9XG59XG4iXX0=