import * as tslib_1 from "tslib";
import { Component, ElementRef, Input, ViewChild, SecurityContext } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
var HighlightComponent = /** @class */ (function () {
    function HighlightComponent(domSanitizer) {
        this.domSanitizer = domSanitizer;
        this.pattern = '';
        this.text = '';
        this.elementClass = 'text-info';
        this.highlightedText = '';
    }
    HighlightComponent.prototype.ngOnChanges = function () {
        var text = this.text;
        if (this.pattern && this.pattern !== '') {
            text = this.text.replace(new RegExp(this.pattern, 'i'), "<strong class=\"" + this.elementClass + "\">$&</strong>");
        }
        this.highlightedText = this.domSanitizer.sanitize(SecurityContext.HTML, text);
    };
    HighlightComponent.ctorParameters = function () { return [
        { type: DomSanitizer }
    ]; };
    tslib_1.__decorate([
        ViewChild('text', { read: ElementRef, static: true })
    ], HighlightComponent.prototype, "container", void 0);
    tslib_1.__decorate([
        Input()
    ], HighlightComponent.prototype, "pattern", void 0);
    tslib_1.__decorate([
        Input()
    ], HighlightComponent.prototype, "text", void 0);
    tslib_1.__decorate([
        Input()
    ], HighlightComponent.prototype, "elementClass", void 0);
    HighlightComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-highlight',
            template: '<span [innerHTML]="highlightedText"></span>'
        })
    ], HighlightComponent);
    return HighlightComponent;
}());
export { HighlightComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL3NlYXJjaC9oaWdobGlnaHQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFVBQVUsRUFDVixLQUFLLEVBRUwsU0FBUyxFQUNULGVBQWUsRUFDaEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBTXpEO0lBZUUsNEJBQW9CLFlBQTBCO1FBQTFCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBVjlDLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFHckIsU0FBSSxHQUFXLEVBQUUsQ0FBQztRQUdsQixpQkFBWSxHQUFXLFdBQVcsQ0FBQztRQUVuQyxvQkFBZSxHQUFXLEVBQUUsQ0FBQztJQUVvQixDQUFDO0lBRWxELHdDQUFXLEdBQVg7UUFDRSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUN2QyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBRSxxQkFBa0IsSUFBSSxDQUFDLFlBQVksbUJBQWUsQ0FBQyxDQUFDO1NBQzdHO1FBQ0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hGLENBQUM7O2dCQVJpQyxZQUFZOztJQWI5QztRQURDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQzt5REFDaEM7SUFHdEI7UUFEQyxLQUFLLEVBQUU7dURBQ2E7SUFHckI7UUFEQyxLQUFLLEVBQUU7b0RBQ1U7SUFHbEI7UUFEQyxLQUFLLEVBQUU7NERBQzJCO0lBWHhCLGtCQUFrQjtRQUo5QixTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsZUFBZTtZQUN6QixRQUFRLEVBQUUsNkNBQTZDO1NBQ3hELENBQUM7T0FDVyxrQkFBa0IsQ0F3QjlCO0lBQUQseUJBQUM7Q0FBQSxBQXhCRCxJQXdCQztTQXhCWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIElucHV0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBWaWV3Q2hpbGQsXG4gIFNlY3VyaXR5Q29udGV4dFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERvbVNhbml0aXplciB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktaGlnaGxpZ2h0JyxcbiAgdGVtcGxhdGU6ICc8c3BhbiBbaW5uZXJIVE1MXT1cImhpZ2hsaWdodGVkVGV4dFwiPjwvc3Bhbj4nXG59KVxuZXhwb3J0IGNsYXNzIEhpZ2hsaWdodENvbXBvbmVudCB7XG4gIEBWaWV3Q2hpbGQoJ3RleHQnLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogdHJ1ZSB9KVxuICBjb250YWluZXI6IEVsZW1lbnRSZWY7XG5cbiAgQElucHV0KClcbiAgcGF0dGVybjogc3RyaW5nID0gJyc7XG5cbiAgQElucHV0KClcbiAgdGV4dDogc3RyaW5nID0gJyc7XG5cbiAgQElucHV0KClcbiAgZWxlbWVudENsYXNzOiBzdHJpbmcgPSAndGV4dC1pbmZvJztcblxuICBoaWdobGlnaHRlZFRleHQ6IHN0cmluZyA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZG9tU2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHt9XG5cbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XG4gICAgbGV0IHRleHQgPSB0aGlzLnRleHQ7XG4gICAgaWYgKHRoaXMucGF0dGVybiAmJiB0aGlzLnBhdHRlcm4gIT09ICcnKSB7XG4gICAgICB0ZXh0ID0gdGhpcy50ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLnBhdHRlcm4sICdpJyksIGA8c3Ryb25nIGNsYXNzPVwiJHt0aGlzLmVsZW1lbnRDbGFzc31cIj4kJjwvc3Ryb25nPmApO1xuICAgIH1cbiAgICB0aGlzLmhpZ2hsaWdodGVkVGV4dCA9IHRoaXMuZG9tU2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5IVE1MLCB0ZXh0KTtcbiAgfVxufVxuIl19