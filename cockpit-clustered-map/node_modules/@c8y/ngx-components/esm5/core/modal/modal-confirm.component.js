import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { BsModalRef } from 'ngx-bootstrap/modal';
import { Status, statusIcons, statusAlert } from '../common/status.model';
var ConfirmModalComponent = /** @class */ (function () {
    function ConfirmModalComponent(modal) {
        var _this = this;
        this.modal = modal;
        this.status = Status.INFO;
        this._labels = {
            ok: 'OK',
            cancel: 'Cancel'
        };
        this.result = new Promise(function (resolve, reject) {
            _this.dismiss = function () {
                reject();
                _this.modal.hide();
            };
            _this.close = function () {
                resolve(true);
                _this.modal.hide();
            };
        });
    }
    Object.defineProperty(ConfirmModalComponent.prototype, "labels", {
        get: function () { return this._labels; },
        set: function (labels) {
            var _a = labels || {}, _b = _a.ok, ok = _b === void 0 ? 'OK' : _b, _c = _a.cancel, cancel = _c === void 0 ? 'Cancel' : _c;
            this._labels = { ok: ok, cancel: cancel };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConfirmModalComponent.prototype, "classIcon", {
        get: function () {
            return "fa-" + statusIcons[this.status];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConfirmModalComponent.prototype, "classAlert", {
        get: function () {
            return statusAlert[this.status];
        },
        enumerable: true,
        configurable: true
    });
    ConfirmModalComponent.prototype.ngOnDestroy = function () {
        this.dismiss();
    };
    ConfirmModalComponent.ctorParameters = function () { return [
        { type: BsModalRef }
    ]; };
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "title", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "body", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "status", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "labels", null);
    ConfirmModalComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-confirm-modal',
            template: "<div class=\"c8y-prompt alert\" [ngClass]=\"[classAlert]\">\n  <h3 class=\"bottom-m-md\" *ngIf=\"title\">\n    <i class=\"fa fw\" [ngClass]=\"[classIcon]\"></i>\n    <span *ngIf=\"title\">{{ title | translate }}</span>\n  </h3>\n  <p class=\"text-wrap\" style=\"word-wrap:break-word;\">{{ body | translate }}</p>\n  <div class=\"alert-footer\">\n    <button\n      title=\"{{ labels.cancel | translate }}\"\n      class=\"btn btn-default\"\n      *ngIf=\"labels.cancel !== null\"\n      (click)=\"dismiss()\"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button title=\"{{ labels.ok | translate }}\" class=\"btn btn-primary\" (click)=\"close()\">\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n"
        })
    ], ConfirmModalComponent);
    return ConfirmModalComponent;
}());
export { ConfirmModalComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtY29uZmlybS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9tb2RhbC9tb2RhbC1jb25maXJtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDNUQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2pELE9BQU8sRUFBYyxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBV3RGO0lBd0JFLCtCQUFvQixLQUFpQjtRQUFyQyxpQkFlQztRQWZtQixVQUFLLEdBQUwsS0FBSyxDQUFZO1FBbEI1QixXQUFNLEdBQWUsTUFBTSxDQUFDLElBQUksQ0FBQztRQW1CeEMsSUFBSSxDQUFDLE9BQU8sR0FBRztZQUNiLEVBQUUsRUFBRSxJQUFJO1lBQ1IsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztRQUNGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtZQUN4QyxLQUFJLENBQUMsT0FBTyxHQUFHO2dCQUNiLE1BQU0sRUFBRSxDQUFDO2dCQUNULEtBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDO1lBQ0YsS0FBSSxDQUFDLEtBQUssR0FBRztnQkFDWCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2QsS0FBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwQixDQUFDLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFoQ1Esc0JBQUkseUNBQU07YUFLbkIsY0FBd0IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUxyQyxVQUFXLE1BQWU7WUFDM0IsSUFBQSxpQkFBK0MsRUFBN0MsVUFBUyxFQUFULDhCQUFTLEVBQUUsY0FBaUIsRUFBakIsc0NBQWtDLENBQUM7WUFDdEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLEVBQUUsSUFBQSxFQUFFLE1BQU0sUUFBQSxFQUFFLENBQUM7UUFDaEMsQ0FBQzs7O09BQUE7SUFJRCxzQkFBSSw0Q0FBUzthQUFiO1lBQ0UsT0FBTyxRQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFHLENBQUM7UUFDMUMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw2Q0FBVTthQUFkO1lBQ0UsT0FBTyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xDLENBQUM7OztPQUFBO0lBcUJELDJDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDakIsQ0FBQzs7Z0JBbkIwQixVQUFVOztJQXBCNUI7UUFBUixLQUFLLEVBQUU7d0RBQWU7SUFDZDtRQUFSLEtBQUssRUFBRTt1REFBYztJQUNiO1FBQVIsS0FBSyxFQUFFO3lEQUFrQztJQUNqQztRQUFSLEtBQUssRUFBRTt1REFHUDtJQVZVLHFCQUFxQjtRQUpqQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsbUJBQW1CO1lBQzdCLDZ1QkFBNkM7U0FDOUMsQ0FBQztPQUNXLHFCQUFxQixDQTRDakM7SUFBRCw0QkFBQztDQUFBLEFBNUNELElBNENDO1NBNUNZLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQnNNb2RhbFJlZiB9IGZyb20gJ25neC1ib290c3RyYXAvbW9kYWwnO1xuaW1wb3J0IHsgU3RhdHVzVHlwZSwgU3RhdHVzLCBzdGF0dXNJY29ucywgc3RhdHVzQWxlcnQgfSBmcm9tICcuLi9jb21tb24vc3RhdHVzLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBJTGFiZWxzIHtcbiAgb2s/OiBzdHJpbmc7XG4gIGNhbmNlbD86IHN0cmluZztcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWNvbmZpcm0tbW9kYWwnLFxuICB0ZW1wbGF0ZVVybDogJy4vbW9kYWwtY29uZmlybS5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgQ29uZmlybU1vZGFsQ29tcG9uZW50IGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgcmVzdWx0OiBQcm9taXNlPGJvb2xlYW4+O1xuICBkaXNtaXNzOiAoKSA9PiB2b2lkO1xuICBjbG9zZTogKCkgPT4gdm9pZDtcbiAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcbiAgQElucHV0KCkgYm9keTogc3RyaW5nO1xuICBASW5wdXQoKSBzdGF0dXM6IFN0YXR1c1R5cGUgPSBTdGF0dXMuSU5GTztcbiAgQElucHV0KCkgc2V0IGxhYmVscyhsYWJlbHM6IElMYWJlbHMpIHtcbiAgICBjb25zdCB7IG9rID0gJ09LJywgY2FuY2VsID0gJ0NhbmNlbCcgfSA9IGxhYmVscyB8fCB7fTtcbiAgICB0aGlzLl9sYWJlbHMgPSB7IG9rLCBjYW5jZWwgfTtcbiAgfVxuXG4gIGdldCBsYWJlbHMoKTogSUxhYmVscyB7IHJldHVybiB0aGlzLl9sYWJlbHM7IH1cblxuICBnZXQgY2xhc3NJY29uKCkge1xuICAgIHJldHVybiBgZmEtJHtzdGF0dXNJY29uc1t0aGlzLnN0YXR1c119YDtcbiAgfVxuXG4gIGdldCBjbGFzc0FsZXJ0KCkge1xuICAgIHJldHVybiBzdGF0dXNBbGVydFt0aGlzLnN0YXR1c107XG4gIH1cblxuICBwcml2YXRlIF9sYWJlbHM6IElMYWJlbHM7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbDogQnNNb2RhbFJlZikge1xuICAgIHRoaXMuX2xhYmVscyA9IHtcbiAgICAgIG9rOiAnT0snLFxuICAgICAgY2FuY2VsOiAnQ2FuY2VsJ1xuICAgIH07XG4gICAgdGhpcy5yZXN1bHQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmRpc21pc3MgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgICB0aGlzLm1vZGFsLmhpZGUoKTtcbiAgICAgIH07XG4gICAgICB0aGlzLmNsb3NlID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB0aGlzLm1vZGFsLmhpZGUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmRpc21pc3MoKTtcbiAgfVxufVxuIl19