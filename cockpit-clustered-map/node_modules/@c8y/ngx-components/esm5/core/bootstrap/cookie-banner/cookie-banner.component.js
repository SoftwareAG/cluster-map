import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { OptionsService } from '../../common/options.service';
var CookieBannerComponent = /** @class */ (function () {
    function CookieBannerComponent(options) {
        this.options = options;
        this.storageKey = 'acceptCookieNotice';
        this.acceptValue = '1';
    }
    CookieBannerComponent.prototype.ngOnInit = function () {
        this.settings = this.options.get('cookieBanner');
        if (this.settings && this.settings.cookieBannerText && !localStorage.getItem(this.storageKey)) {
            this.showBanner = true;
        }
    };
    CookieBannerComponent.prototype.acceptCookies = function () {
        localStorage.setItem(this.storageKey, this.acceptValue);
        this.showBanner = false;
    };
    CookieBannerComponent.ctorParameters = function () { return [
        { type: OptionsService }
    ]; };
    CookieBannerComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-cookie-banner',
            template: "<div class=\"c8y-cookie-banner\">\n  <div class=\"container\">\n    <div class=\"row p-t-16 p-b-16\" *ngIf=\"showBanner\">\n      <div class=\"col-md-3\" *ngIf=\"settings.cookieBannerTitle\">\n        <h3>{{ settings.cookieBannerTitle | translate }}</h3>\n        <div class=\"p-b-16 visible-sm visible-xs\"></div>\n      </div>\n      <div class=\"col-md-7\">\n        <div class=\"cookie-banner-content text-pre\">\n          {{ settings.cookieBannerText | translate }}\n        </div>\n      </div>\n      <div class=\"col-md-2\">\n        <div class=\"row\">\n          <div class=\"col-sm-6 col-md-12\">\n            <div class=\"p-b-16 visible-sm visible-xs\"></div>\n            <button class=\"btn btn-primary btn-block\" (click)=\"acceptCookies()\">\n              {{ 'Agree and proceed' | translate }}\n            </button>\n          </div>\n          <div class=\"col-sm-6 col-md-12\">\n            <div class=\"p-b-16\"></div>\n            <a\n              class=\"btn btn-default btn-block\"\n              href=\"{{ settings.policyUrl }}\"\n              target=\"_blank\"\n              *ngIf=\"settings.policyUrl\"\n            >\n              {{ 'Privacy policy' | translate }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
        })
    ], CookieBannerComponent);
    return CookieBannerComponent;
}());
export { CookieBannerComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29va2llLWJhbm5lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9ib290c3RyYXAvY29va2llLWJhbm5lci9jb29raWUtYmFubmVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFNOUQ7SUFNRSwrQkFBb0IsT0FBdUI7UUFBdkIsWUFBTyxHQUFQLE9BQU8sQ0FBZ0I7UUFMbEMsZUFBVSxHQUFXLG9CQUFvQixDQUFDO1FBQzFDLGdCQUFXLEdBQVcsR0FBRyxDQUFDO0lBSVcsQ0FBQztJQUUvQyx3Q0FBUSxHQUFSO1FBQ0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNqRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzdGLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVELDZDQUFhLEdBQWI7UUFDRSxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7O2dCQVo0QixjQUFjOztJQU5oQyxxQkFBcUI7UUFKakMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLG1CQUFtQjtZQUM3Qiw0eENBQTRDO1NBQzdDLENBQUM7T0FDVyxxQkFBcUIsQ0FtQmpDO0lBQUQsNEJBQUM7Q0FBQSxBQW5CRCxJQW1CQztTQW5CWSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9jb21tb24vb3B0aW9ucy5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWNvb2tpZS1iYW5uZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vY29va2llLWJhbm5lci50ZW1wbGF0ZS5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBDb29raWVCYW5uZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICByZWFkb25seSBzdG9yYWdlS2V5OiBzdHJpbmcgPSAnYWNjZXB0Q29va2llTm90aWNlJztcbiAgcmVhZG9ubHkgYWNjZXB0VmFsdWU6IHN0cmluZyA9ICcxJztcbiAgc2hvd0Jhbm5lcjogYm9vbGVhbjtcbiAgc2V0dGluZ3M6IHsgY29va2llQmFubmVyVGl0bGU/OiBzdHJpbmc7IGNvb2tpZUJhbm5lclRleHQ6IHN0cmluZzsgcG9saWN5VXJsPzogc3RyaW5nIH07XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBPcHRpb25zU2VydmljZSkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5vcHRpb25zLmdldCgnY29va2llQmFubmVyJyk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MgJiYgdGhpcy5zZXR0aW5ncy5jb29raWVCYW5uZXJUZXh0ICYmICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpKSB7XG4gICAgICB0aGlzLnNob3dCYW5uZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGFjY2VwdENvb2tpZXMoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LCB0aGlzLmFjY2VwdFZhbHVlKTtcbiAgICB0aGlzLnNob3dCYW5uZXIgPSBmYWxzZTtcbiAgfVxufVxuIl19