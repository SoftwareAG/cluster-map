import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { gettext, NavigatorNode, NavigatorNodeFactory, OptionsService } from '@c8y/ngx-components';
var RepositoryNavigationFactory = /** @class */ (function () {
    function RepositoryNavigationFactory(optionsService) {
        this.optionsService = optionsService;
        this.navs = [];
    }
    RepositoryNavigationFactory.prototype.get = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var betaFlag;
            return tslib_1.__generator(this, function (_a) {
                betaFlag = localStorage.getItem('c8y_beta_status');
                if (betaFlag === 'all' && this.navs.length === 0) {
                    this.navs.push(new NavigatorNode({
                        label: gettext('Configuration repository'),
                        path: 'configuration-new',
                        icon: 'gears',
                        parent: gettext('Management'),
                        priority: 800
                    }));
                }
                return [2 /*return*/, this.navs];
            });
        });
    };
    RepositoryNavigationFactory.ctorParameters = function () { return [
        { type: OptionsService }
    ]; };
    RepositoryNavigationFactory = tslib_1.__decorate([
        Injectable()
    ], RepositoryNavigationFactory);
    return RepositoryNavigationFactory;
}());
export { RepositoryNavigationFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwb3NpdG9yeS1uYXZpZ2F0aW9uLWZhY3RvcnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzL3JlcG9zaXRvcnkvIiwic291cmNlcyI6WyJyZXBvc2l0b3J5LW5hdmlnYXRpb24tZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxvQkFBb0IsRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUduRztJQUdFLHFDQUFvQixjQUE4QjtRQUE5QixtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFGbEQsU0FBSSxHQUFvQixFQUFFLENBQUM7SUFFMEIsQ0FBQztJQUVoRCx5Q0FBRyxHQUFUOzs7O2dCQUNRLFFBQVEsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ3pELElBQUksUUFBUSxLQUFLLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7b0JBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUNaLElBQUksYUFBYSxDQUFDO3dCQUNoQixLQUFLLEVBQUUsT0FBTyxDQUFDLDBCQUEwQixDQUFDO3dCQUMxQyxJQUFJLEVBQUUsbUJBQW1CO3dCQUN6QixJQUFJLEVBQUUsT0FBTzt3QkFDYixNQUFNLEVBQUUsT0FBTyxDQUFDLFlBQVksQ0FBQzt3QkFDN0IsUUFBUSxFQUFFLEdBQUc7cUJBQ2QsQ0FBQyxDQUNILENBQUM7aUJBQ0g7Z0JBQ0Qsc0JBQU8sSUFBSSxDQUFDLElBQUksRUFBQzs7O0tBQ2xCOztnQkFoQm1DLGNBQWM7O0lBSHZDLDJCQUEyQjtRQUR2QyxVQUFVLEVBQUU7T0FDQSwyQkFBMkIsQ0FvQnZDO0lBQUQsa0NBQUM7Q0FBQSxBQXBCRCxJQW9CQztTQXBCWSwyQkFBMkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBnZXR0ZXh0LCBOYXZpZ2F0b3JOb2RlLCBOYXZpZ2F0b3JOb2RlRmFjdG9yeSwgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlcG9zaXRvcnlOYXZpZ2F0aW9uRmFjdG9yeSBpbXBsZW1lbnRzIE5hdmlnYXRvck5vZGVGYWN0b3J5IHtcbiAgbmF2czogTmF2aWdhdG9yTm9kZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zU2VydmljZTogT3B0aW9uc1NlcnZpY2UpIHt9XG5cbiAgYXN5bmMgZ2V0KCkge1xuICAgIGNvbnN0IGJldGFGbGFnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2M4eV9iZXRhX3N0YXR1cycpO1xuICAgIGlmIChiZXRhRmxhZyA9PT0gJ2FsbCcgJiYgdGhpcy5uYXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5uYXZzLnB1c2goXG4gICAgICAgIG5ldyBOYXZpZ2F0b3JOb2RlKHtcbiAgICAgICAgICBsYWJlbDogZ2V0dGV4dCgnQ29uZmlndXJhdGlvbiByZXBvc2l0b3J5JyksXG4gICAgICAgICAgcGF0aDogJ2NvbmZpZ3VyYXRpb24tbmV3JyxcbiAgICAgICAgICBpY29uOiAnZ2VhcnMnLFxuICAgICAgICAgIHBhcmVudDogZ2V0dGV4dCgnTWFuYWdlbWVudCcpLFxuICAgICAgICAgIHByaW9yaXR5OiA4MDBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5hdnM7XG4gIH1cbn1cbiJdfQ==