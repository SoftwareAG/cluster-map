import * as tslib_1 from "tslib";
import { Component, ElementRef, Input, ViewChild, SecurityContext } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
let HighlightComponent = class HighlightComponent {
    constructor(domSanitizer) {
        this.domSanitizer = domSanitizer;
        this.pattern = '';
        this.text = '';
        this.elementClass = 'text-info';
        this.highlightedText = '';
    }
    ngOnChanges() {
        let text = this.text;
        if (this.pattern && this.pattern !== '') {
            text = this.text.replace(new RegExp(this.pattern, 'i'), `<strong class="${this.elementClass}">$&</strong>`);
        }
        this.highlightedText = this.domSanitizer.sanitize(SecurityContext.HTML, text);
    }
};
HighlightComponent.ctorParameters = () => [
    { type: DomSanitizer }
];
tslib_1.__decorate([
    ViewChild('text', { read: ElementRef, static: true })
], HighlightComponent.prototype, "container", void 0);
tslib_1.__decorate([
    Input()
], HighlightComponent.prototype, "pattern", void 0);
tslib_1.__decorate([
    Input()
], HighlightComponent.prototype, "text", void 0);
tslib_1.__decorate([
    Input()
], HighlightComponent.prototype, "elementClass", void 0);
HighlightComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-highlight',
        template: '<span [innerHTML]="highlightedText"></span>'
    })
], HighlightComponent);
export { HighlightComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL3NlYXJjaC9oaWdobGlnaHQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFVBQVUsRUFDVixLQUFLLEVBRUwsU0FBUyxFQUNULGVBQWUsRUFDaEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBTXpELElBQWEsa0JBQWtCLEdBQS9CLE1BQWEsa0JBQWtCO0lBZTdCLFlBQW9CLFlBQTBCO1FBQTFCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBVjlDLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFHckIsU0FBSSxHQUFXLEVBQUUsQ0FBQztRQUdsQixpQkFBWSxHQUFXLFdBQVcsQ0FBQztRQUVuQyxvQkFBZSxHQUFXLEVBQUUsQ0FBQztJQUVvQixDQUFDO0lBRWxELFdBQVc7UUFDVCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUN2QyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBRSxrQkFBa0IsSUFBSSxDQUFDLFlBQVksZUFBZSxDQUFDLENBQUM7U0FDN0c7UUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEYsQ0FBQztDQUNGLENBQUE7O1lBVG1DLFlBQVk7O0FBYjlDO0lBREMsU0FBUyxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDO3FEQUNoQztBQUd0QjtJQURDLEtBQUssRUFBRTttREFDYTtBQUdyQjtJQURDLEtBQUssRUFBRTtnREFDVTtBQUdsQjtJQURDLEtBQUssRUFBRTt3REFDMkI7QUFYeEIsa0JBQWtCO0lBSjlCLFNBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSxlQUFlO1FBQ3pCLFFBQVEsRUFBRSw2Q0FBNkM7S0FDeEQsQ0FBQztHQUNXLGtCQUFrQixDQXdCOUI7U0F4Qlksa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBJbnB1dCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0NoaWxkLFxuICBTZWN1cml0eUNvbnRleHRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWhpZ2hsaWdodCcsXG4gIHRlbXBsYXRlOiAnPHNwYW4gW2lubmVySFRNTF09XCJoaWdobGlnaHRlZFRleHRcIj48L3NwYW4+J1xufSlcbmV4cG9ydCBjbGFzcyBIaWdobGlnaHRDb21wb25lbnQge1xuICBAVmlld0NoaWxkKCd0ZXh0JywgeyByZWFkOiBFbGVtZW50UmVmLCBzdGF0aWM6IHRydWUgfSlcbiAgY29udGFpbmVyOiBFbGVtZW50UmVmO1xuXG4gIEBJbnB1dCgpXG4gIHBhdHRlcm46IHN0cmluZyA9ICcnO1xuXG4gIEBJbnB1dCgpXG4gIHRleHQ6IHN0cmluZyA9ICcnO1xuXG4gIEBJbnB1dCgpXG4gIGVsZW1lbnRDbGFzczogc3RyaW5nID0gJ3RleHQtaW5mbyc7XG5cbiAgaGlnaGxpZ2h0ZWRUZXh0OiBzdHJpbmcgPSAnJztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRvbVNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7fVxuXG4gIG5nT25DaGFuZ2VzKCk6IHZvaWQge1xuICAgIGxldCB0ZXh0ID0gdGhpcy50ZXh0O1xuICAgIGlmICh0aGlzLnBhdHRlcm4gJiYgdGhpcy5wYXR0ZXJuICE9PSAnJykge1xuICAgICAgdGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wYXR0ZXJuLCAnaScpLCBgPHN0cm9uZyBjbGFzcz1cIiR7dGhpcy5lbGVtZW50Q2xhc3N9XCI+JCY8L3N0cm9uZz5gKTtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRlZFRleHQgPSB0aGlzLmRvbVNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuSFRNTCwgdGV4dCk7XG4gIH1cbn1cbiJdfQ==