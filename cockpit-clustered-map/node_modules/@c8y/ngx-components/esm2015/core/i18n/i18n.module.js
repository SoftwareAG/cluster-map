var I18nModule_1;
import * as tslib_1 from "tslib";
import { HttpClient, HttpClientModule } from '@angular/common/http';
import { LOCALE_ID, NgModule } from '@angular/core';
import { MissingTranslationHandler, TranslateService as NgxTranslateService, TranslateCompiler, TranslateFakeCompiler, TranslateLoader, TranslateModule, TranslateParser, TranslateStore, USE_DEFAULT_LANG, USE_STORE, USE_EXTEND, DEFAULT_LANGUAGE } from '@ngx-translate/core';
import { OptionsService } from '../common/public-api';
import { AppStateService } from '../common/ui-state.service';
import { LANGUAGES } from './languages';
import { LOCALE_PATH } from './locale.path';
import { MissingTranslationCustomHandler } from './missing-translation-custom.handler';
import { MESSAGES } from './pattern-messages.data';
import { HOOK_PATTERN_MESSAGES } from './patterns-message.hook';
import { TranslateCustomLoader } from './translate.loader';
import { TranslateParserCustom } from './translate.parser';
// Load these as a side effect
try {
    // tslint:disable:no-var-requires
    require('@c8y/ngx-components/locales/de.po');
    require('@c8y/ngx-components/locales/en.po');
    require('@c8y/ngx-components/locales/es.po');
    require('@c8y/ngx-components/locales/fr.po');
    require('@c8y/ngx-components/locales/ja_JP.po');
    // tslint:enable:no-var-requires
}
catch (e) {
    // empty block
}
// AoT requires an exported function for factories
export function translateLoaderFactory(httpClient, localePath, languages) {
    return new TranslateCustomLoader(httpClient, localePath, languages);
}
export function localePathFactory(options) {
    return options.localePath;
}
export function languagesFactory(options) {
    return options.languages;
}
export function localeId(appStateService) {
    return {
        get lang() {
            return appStateService.state.lang || 'en';
        },
        toLowerCase() {
            return this.lang;
        },
        toString() {
            return this.lang;
        }
    };
}
/**
 * The angular module definition for i18n (translation).
 * @exports I18nModule
 */
let I18nModule = I18nModule_1 = class I18nModule {
    static providers() {
        return [
            { provide: LOCALE_ID, useFactory: localeId, deps: [AppStateService] },
            { provide: HOOK_PATTERN_MESSAGES, useValue: MESSAGES, multi: true },
            { provide: LOCALE_PATH, useFactory: localePathFactory, deps: [OptionsService] },
            { provide: LANGUAGES, useFactory: languagesFactory, deps: [OptionsService] },
            // Extracted from projects/ngx-translate/core/src/public_api.ts
            { provide: TranslateLoader, useFactory: translateLoaderFactory, deps: [HttpClient, LOCALE_PATH, LANGUAGES] },
            { provide: TranslateCompiler, useClass: TranslateFakeCompiler },
            { provide: TranslateParser, useClass: TranslateParserCustom },
            { provide: MissingTranslationHandler, useClass: MissingTranslationCustomHandler },
            TranslateStore,
            NgxTranslateService,
            { provide: USE_STORE, useValue: undefined },
            { provide: USE_DEFAULT_LANG, useValue: undefined },
            { provide: USE_EXTEND, useValue: false },
            { provide: DEFAULT_LANGUAGE, useValue: undefined },
        ];
    }
    static forRoot() {
        return {
            ngModule: I18nModule_1,
            providers: I18nModule_1.providers()
        };
    }
};
I18nModule = I18nModule_1 = tslib_1.__decorate([
    NgModule({
        exports: [TranslateModule],
        imports: [HttpClientModule]
    })
], I18nModule);
export { I18nModule };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi5tb2R1bGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9pMThuL2kxOG4ubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BELE9BQU8sRUFDTCx5QkFBeUIsRUFDekIsZ0JBQWdCLElBQUksbUJBQW1CLEVBQ3ZDLGlCQUFpQixFQUNqQixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLGVBQWUsRUFDZixlQUFlLEVBQ2YsY0FBYyxFQUNkLGdCQUFnQixFQUNoQixTQUFTLEVBQ1QsVUFBVSxFQUNWLGdCQUFnQixFQUNqQixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVDLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUUzRCw4QkFBOEI7QUFDOUIsSUFBSTtJQUNGLGlDQUFpQztJQUNqQyxPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUM3QyxPQUFP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LENBQUU7UUFDNUIsT0FBTyxFQUFFLENBQUUsZ0JBQWdCLENBQUU7S0FDOUIsQ0FBQztHQUNXLFVBQVUsQ0EyQnRCO1NBM0JZLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgTE9DQUxFX0lELCBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcixcbiAgVHJhbnNsYXRlU2VydmljZSBhcyBOZ3hUcmFuc2xhdGVTZXJ2aWNlLFxuICBUcmFuc2xhdGVDb21waWxlcixcbiAgVHJhbnNsYXRlRmFrZUNvbXBpbGVyLFxuICBUcmFuc2xhdGVMb2FkZXIsXG4gIFRyYW5zbGF0ZU1vZHVsZSxcbiAgVHJhbnNsYXRlUGFyc2VyLFxuICBUcmFuc2xhdGVTdG9yZSxcbiAgVVNFX0RFRkFVTFRfTEFORyxcbiAgVVNFX1NUT1JFLFxuICBVU0VfRVhURU5ELFxuICBERUZBVUxUX0xBTkdVQUdFXG59IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vcHVibGljLWFwaSc7XG5pbXBvcnQgeyBBcHBTdGF0ZVNlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vdWktc3RhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBMQU5HVUFHRVMgfSBmcm9tICcuL2xhbmd1YWdlcyc7XG5pbXBvcnQgeyBMT0NBTEVfUEFUSCB9IGZyb20gJy4vbG9jYWxlLnBhdGgnO1xuaW1wb3J0IHsgTWlzc2luZ1RyYW5zbGF0aW9uQ3VzdG9tSGFuZGxlciB9IGZyb20gJy4vbWlzc2luZy10cmFuc2xhdGlvbi1jdXN0b20uaGFuZGxlcic7XG5pbXBvcnQgeyBNRVNTQUdFUyB9IGZyb20gJy4vcGF0dGVybi1tZXNzYWdlcy5kYXRhJztcbmltcG9ydCB7IEhPT0tfUEFUVEVSTl9NRVNTQUdFUyB9IGZyb20gJy4vcGF0dGVybnMtbWVzc2FnZS5ob29rJztcbmltcG9ydCB7IFRyYW5zbGF0ZUN1c3RvbUxvYWRlciB9IGZyb20gJy4vdHJhbnNsYXRlLmxvYWRlcic7XG5pbXBvcnQgeyBUcmFuc2xhdGVQYXJzZXJDdXN0b20gfSBmcm9tICcuL3RyYW5zbGF0ZS5wYXJzZXInO1xuXG4vLyBMb2FkIHRoZXNlIGFzIGEgc2lkZSBlZmZlY3RcbnRyeSB7XG4gIC8vIHRzbGludDpkaXNhYmxlOm5vLXZhci1yZXF1aXJlc1xuICByZXF1aXJlKCdAYzh5L25neC1jb21wb25lbnRzL2xvY2FsZXMvZGUucG8nKTtcbiAgcmVxdWlyZSgnQGM4eS9uZ3gtY29tcG9uZW50cy9sb2NhbGVzL2VuLnBvJyk7XG4gIHJlcXVpcmUoJ0BjOHkvbmd4LWNvbXBvbmVudHMvbG9jYWxlcy9lcy5wbycpO1xuICByZXF1aXJlKCdAYzh5L25neC1jb21wb25lbnRzL2xvY2FsZXMvZnIucG8nKTtcbiAgcmVxdWlyZSgnQGM4eS9uZ3gtY29tcG9uZW50cy9sb2NhbGVzL2phX0pQLnBvJyk7XG4gICAvLyB0c2xpbnQ6ZW5hYmxlOm5vLXZhci1yZXF1aXJlc1xufSBjYXRjaCAoZSkge1xuICAvLyBlbXB0eSBibG9ja1xufVxuXG4vLyBBb1QgcmVxdWlyZXMgYW4gZXhwb3J0ZWQgZnVuY3Rpb24gZm9yIGZhY3Rvcmllc1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZUxvYWRlckZhY3RvcnkoaHR0cENsaWVudDogSHR0cENsaWVudCwgbG9jYWxlUGF0aDogc3RyaW5nLCBsYW5ndWFnZXM6IGFueSkge1xuICByZXR1cm4gbmV3IFRyYW5zbGF0ZUN1c3RvbUxvYWRlcihodHRwQ2xpZW50LCBsb2NhbGVQYXRoLCBsYW5ndWFnZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9jYWxlUGF0aEZhY3Rvcnkob3B0aW9uczogT3B0aW9uc1NlcnZpY2UpIHtcbiAgcmV0dXJuIG9wdGlvbnMubG9jYWxlUGF0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhbmd1YWdlc0ZhY3Rvcnkob3B0aW9uczogT3B0aW9uc1NlcnZpY2UpIHtcbiAgcmV0dXJuIG9wdGlvbnMubGFuZ3VhZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9jYWxlSWQoYXBwU3RhdGVTZXJ2aWNlOiBBcHBTdGF0ZVNlcnZpY2UpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXQgbGFuZygpIHtcbiAgICAgIHJldHVybiBhcHBTdGF0ZVNlcnZpY2Uuc3RhdGUubGFuZyB8fCAnZW4nO1xuICAgIH0sXG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYW5nO1xuICAgIH0sXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYW5nO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYW5ndWxhciBtb2R1bGUgZGVmaW5pdGlvbiBmb3IgaTE4biAodHJhbnNsYXRpb24pLlxuICogQGV4cG9ydHMgSTE4bk1vZHVsZVxuICovXG5ATmdNb2R1bGUoe1xuICBleHBvcnRzOiBbIFRyYW5zbGF0ZU1vZHVsZSBdLFxuICBpbXBvcnRzOiBbIEh0dHBDbGllbnRNb2R1bGUgXVxufSlcbmV4cG9ydCBjbGFzcyBJMThuTW9kdWxlIHtcbiAgc3RhdGljIHByb3ZpZGVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBwcm92aWRlOiBMT0NBTEVfSUQsIHVzZUZhY3Rvcnk6IGxvY2FsZUlkLCBkZXBzOiBbIEFwcFN0YXRlU2VydmljZSBdIH0sXG4gICAgICB7IHByb3ZpZGU6IEhPT0tfUEFUVEVSTl9NRVNTQUdFUywgdXNlVmFsdWU6IE1FU1NBR0VTLCBtdWx0aTogdHJ1ZSB9LFxuICAgICAgeyBwcm92aWRlOiBMT0NBTEVfUEFUSCwgdXNlRmFjdG9yeTogbG9jYWxlUGF0aEZhY3RvcnksIGRlcHM6IFsgT3B0aW9uc1NlcnZpY2UgXSB9LFxuICAgICAgeyBwcm92aWRlOiBMQU5HVUFHRVMsIHVzZUZhY3Rvcnk6IGxhbmd1YWdlc0ZhY3RvcnksIGRlcHM6IFsgT3B0aW9uc1NlcnZpY2UgXSB9LFxuXG4gICAgICAvLyBFeHRyYWN0ZWQgZnJvbSBwcm9qZWN0cy9uZ3gtdHJhbnNsYXRlL2NvcmUvc3JjL3B1YmxpY19hcGkudHNcbiAgICAgIHsgcHJvdmlkZTogVHJhbnNsYXRlTG9hZGVyLCB1c2VGYWN0b3J5OiB0cmFuc2xhdGVMb2FkZXJGYWN0b3J5LCBkZXBzOiBbSHR0cENsaWVudCwgTE9DQUxFX1BBVEgsIExBTkdVQUdFU10gfSxcbiAgICAgIHsgcHJvdmlkZTogVHJhbnNsYXRlQ29tcGlsZXIsIHVzZUNsYXNzOiBUcmFuc2xhdGVGYWtlQ29tcGlsZXIgfSxcbiAgICAgIHsgcHJvdmlkZTogVHJhbnNsYXRlUGFyc2VyLCB1c2VDbGFzczogVHJhbnNsYXRlUGFyc2VyQ3VzdG9tIH0sXG4gICAgICB7IHByb3ZpZGU6IE1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIsIHVzZUNsYXNzOiBNaXNzaW5nVHJhbnNsYXRpb25DdXN0b21IYW5kbGVyIH0sXG4gICAgICBUcmFuc2xhdGVTdG9yZSxcbiAgICAgIE5neFRyYW5zbGF0ZVNlcnZpY2UsXG4gICAgICB7IHByb3ZpZGU6IFVTRV9TVE9SRSwgdXNlVmFsdWU6IHVuZGVmaW5lZCB9LFxuICAgICAgeyBwcm92aWRlOiBVU0VfREVGQVVMVF9MQU5HLCB1c2VWYWx1ZTogdW5kZWZpbmVkIH0sXG4gICAgICB7IHByb3ZpZGU6IFVTRV9FWFRFTkQsIHVzZVZhbHVlOiBmYWxzZSB9LFxuICAgICAgeyBwcm92aWRlOiBERUZBVUxUX0xBTkdVQUdFLCB1c2VWYWx1ZTogdW5kZWZpbmVkIH0sXG4gICAgXTtcbiAgfVxuICBzdGF0aWMgZm9yUm9vdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IEkxOG5Nb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IEkxOG5Nb2R1bGUucHJvdmlkZXJzKClcbiAgICB9O1xuICB9XG59XG4iXX0=