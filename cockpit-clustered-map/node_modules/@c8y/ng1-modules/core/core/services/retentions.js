"use strict";!function(){function e(i,u,c,e){var o="retention/retentions",n={headers:c.contentHeaders("retentionRule","retentionRule")},r={ALARM:["fragmentType"],EVENT:[],MEASUREMENT:[],OPERATION:["type"],AUDIT:["fragmentType"],"*":["fragmentType"]};return{list:function e(t){var n=c.url(o);var r=c.pageSizeFilter(t);var a={params:r,silentError:!0};var l=c.cleanListCallback("retentionRules",e,r);return i.get(n,a).then(l,u.reject)},detail:function(e){var t=l(e);return t?i.get(t):u.reject("Retention rule object is not valid")},create:t,update:a,save:function(e){return e.id?a(e):t(e)},remove:function(e){var t=l(e);return t?i.delete(t):u.reject("Retention rule object is not valid")},dataTypes:["ALARM","EVENT","MEASUREMENT","OPERATION","AUDIT","*"],DATA_TYPES:c.createEnum([{name:"ALARM",value:"ALARM",label:e("Alarm"),icon:"bell"},{name:"EVENT",value:"EVENT",label:e("Event"),icon:"rss"},{name:"MEASUREMENT",value:"MEASUREMENT",label:e("Measurement"),icon:"bar-chart"},{name:"OPERATION",value:"OPERATION",label:e("Operation"),icon:"c8y-energy"},{name:"AUDIT",value:"AUDIT",label:e("Audit"),icon:"calendar-check-o"},{name:"*",value:"*",label:e("All"),icon:"asterisk"}]),isFieldSupportedByRule:function(e,t){return!_.includes(r[e.dataType||"*"]||[],t)}};function t(e){var t=c.url(o);return i.post(t,e,n)}function a(e){var t=l(e);return i.put(t,e,n)}function l(e){var t=e&&e.id||e;return t?c.url("".concat(o,"/").concat(t)):""}}e.$inject=["$http","$q","c8yBase","gettext"],angular.module("c8y.core").factory("c8yRetentions",e)}();