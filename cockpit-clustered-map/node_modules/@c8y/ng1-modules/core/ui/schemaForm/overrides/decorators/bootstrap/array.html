<div
  sf-array="form"
  class="schema-form-array {{ form.htmlClass }}"
  ng-model="$$value$$"
  ng-model-options="form.ngModelOptions"
>
  <label class="control-label" ng-show="showTitle()">{{ form.title | translate }}</label>
  <ol
    class="list-inline flex-row wrap"
    ng-model="modelArray"
    style="width: auto"
    ui-sortable="form.uiSortable || ''"
  >
    <li
      class="list-inline-item {{ form.fieldHtmlClass }}"
      ng-repeat="item in modelArray track by $index"
    >
      <div class="flex-row" style="align-items: flex-start">
        <sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator>
        <div class="flex-item-v-start">
          <button
            title="{{ 'Close' | translate }}"
            ng-hide="form.readonly || form.remove === null"
            ng-click="deleteFromArray($index)"
            type="button"
            class="btn btn-link"
          >
            <span aria-hidden="true" c8y-icon="minus-circle" class="text-danger"></span>
            <span class="sr-only">{{ 'Close' | translate }}</span>
          </button>
        </div>
      </div>
    </li>
  </ol>
  <div class="clearfix">
    <button
      title="{{ form.add || 'Add' | translate }}"
      ng-hide="form.readonly || form.add === null"
      ng-click="appendToArray()"
      type="button"
      class="btn-add-block {{ form.style.add || 'btn-default' }} pull-left"
    >
      <i c8y-icon="plus-square"></i>
      {{ form.add || 'Add' | translate }}
    </button>
  </div>
  <div
    class="help-block"
    ng-show="(hasError() && errorMessage(schemaError())) || form.description"
    ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description | translate"
  ></div>
</div>
