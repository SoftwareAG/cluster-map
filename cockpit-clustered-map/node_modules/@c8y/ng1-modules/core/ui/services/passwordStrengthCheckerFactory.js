"use strict";!function(){function n(a,n,s){var l={red:{strength:n("weak"),hexColor:"#aa0033",icon:"exclamation-circle"},yellow:{strength:n("medium"),hexColor:"#ffcc33",icon:"warning"},green:{strength:n("strong"),hexColor:"#008000",icon:"check"}};function f(){f._calling||(f._calling=s.getSystemOptionValue({category:"password",key:"green.min-length"})).finally(function(){f._calling=void 0});return f._calling}return function(){var r,e=a.defer();return f().then(function(n){_.isNumber(n)&&t(n),e.resolve()}),{getDefaultMinGreenLength:function(){return 8},setMinGreenLength:t,getMinGreenLength:function(){return n().then(function(){return _.isUndefined(r)?8:r})},getStrengthColor:function(t){return function(e){return n().then(function(){var n=!0;return _.isUndefined(r)||(n=e.length>=r),n})}(t).then(function(n){var e=function(n){return _.filter([o(n),i(n),c(n),u(n)]).length}(t),r="red";return 2<e&&n?r="green":2<=e&&(r="yellow"),r})},hasLowerCase:o,hasUpperCase:i,hasNumbers:c,hasSpecialChars:u,getStrengthForColor:function(n){return l[_.toLower(n)].strength},getHexColorForColor:function(n){return l[_.toLower(n)].hexColor},getIconForColor:function(n){return l[_.toLower(n)].icon}};function t(n){r=n,s.setUserPasswordValidationParams(r)}function n(){return _.isUndefined(r)||e.resolve(),e.promise}function o(n){return-1!==n.search(/[a-z]/)}function i(n){return-1!==n.search(/[A-Z]/)}function c(n){return-1!==n.search(/[0-9]/)}function u(n){return-1!==n.search(/[^0-9a-zA-Z]+/)}}}n.$inject=["$q","gettext","c8ySettings"],angular.module("c8y.ui").factory("passwordStrengthCheckerFactory",n)}();