<table class="table table-striped">
  <thead>
    <tr>
      <th translate>Type</th>
      <th style="max-width:100px; text-align: center;">
        <span translate>Read</span><br>
        <input type="checkbox"
          ng-click="::vm.selectAll('READ')"
          ng-checked="vm.allSelected('READ')"
          ng-if="!vm.readOnly">
      </th>
      <th style="max-width:100px; text-align: center;">
        <span translate>Admin</span>
        <a href=""
          uib-popover="{{::vm.STRINGS.ADMIN | translate}}"
          popover-placement="right"
          popover-trigger="'focus'">
        <i c8y-icon="question-circle-o"></i></a><br>
        <input type="checkbox"
          ng-click="::vm.selectAll('ADMIN')"
          ng-checked="vm.allSelected('ADMIN')"
          ng-if="!vm.readOnly">
      </th>
      <th style="max-width:100px; text-align: center;">
        <span translate>Create</span><br>
        <input type="checkbox"
          ng-click="::vm.selectAll('CREATE')"
          ng-checked="vm.allSelected('CREATE')"
          ng-if="!vm.readOnly">
      </th>
      <th style="max-width:100px; text-align: center;"
        ng-if="::vm.hasPermissionWithAccess('UPDATE')">
        <span translate>Update</span><br>
        <input type="checkbox"
          ng-click="::vm.selectAll('UPDATE')"
          ng-checked="vm.allSelected('UPDATE')"
          ng-if="!vm.readOnly">
      </th>
    </tr>
  </thead>

  <tbody>
    <tr ng-repeat="group in vm.groupedPermissions | orderBy:'category'">
      <td>
        {{::vm.categoryLabel(group) | translate}}
        <i c8y-icon="question-circle-o"
          class="btn btn-link"
          style="font-size: 0.7em; text-decoration: none;"
          ng-show="::vm.STRINGS.PERMISSIONS_GLOBAL[category]"
          popover-placement="right"
          popover-trigger="'focus'"
          uib-popover="{{::vm.STRINGS.PERMISSIONS_GLOBAL[category] | translate}}">
        </i>
      </td>
      <td style="text-align: center;">
        <input type="checkbox"
          ng-show="::vm.hasPermission(group.permissions, 'READ')"
          ng-model="::vm.selectedPermissions[vm.permissionId(group.permissions, 'READ')]"
        ng-disabled="vm.readOnly">
      </td>
      <td style="text-align: center;">
        <input type="checkbox"
          ng-show="::vm.hasPermission(group.permissions, 'ADMIN')"
          ng-model="::vm.selectedPermissions[vm.permissionId(group.permissions, 'ADMIN')]" ng-disabled="vm.readOnly">
      </td>
      <td style="text-align: center;">
        <input type="checkbox"
          ng-show="::vm.hasPermission(group.permissions, 'CREATE')"
          ng-model="::vm.selectedPermissions[vm.permissionId(group.permissions, 'CREATE')]" ng-disabled="vm.readOnly">
      </td>
      <td style="text-align: center;"
        ng-if="vm.hasPermissionWithAccess('UPDATE')">
        <input type="checkbox"
          ng-show="::vm.hasPermission(group.permissions, 'UPDATE')"
          ng-model="::vm.selectedPermissions[vm.permissionId(group.permissions, 'UPDATE')]" ng-disabled="vm.readOnly">
      </td>
    </tr>
  </tbody>
</table>
