"use strict";!function(){function e(e,n,i,t,r,o,a,s,u,c){var p=this,g="c8y_IsDeviceGroup",l=[];function y(e){return o.when(function(e){var n=angular.copy(e);return n[g]={},n.type=n.groupType.type,delete n.groupType,n}(e)).then(i.createConfirm).then(n.getResData).then(d)}function d(e){return a.addGroupNavigation(e),e}function f(e){var n=c.getString('Group "{{name}}" created.',e);return s.success(n)}function h(t,e){var r=o.when();return _.forEach(e,function(e){var n=_.partial(i.addChildAsset,t,e);r=r.then(n).then(function(){l.push(e)})}),r}_.assign(r,{title:u("Create group"),forms:{},alreadyAssignedDevices:l,newGroup:{groupType:e.getDeviceGroupType()},create:function(e){var n=r.newGroup,t=_.partialRight(h,e);o.when(y(n)).then(t).then(p.close).then(_.partial(f,n))},invalidName:function(){return n.invalid(r.forms,"newGroupForm","name")},dismiss:p.dismiss,c8yConfig:t})}e.$inject=["c8yGroupTypesConfig","c8yBase","c8yInventory","c8yConfig","$scope","$q","groupTypesHierarchyNavigator","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.ui").component("c8yGroupCreateAndAssignModal",{templateUrl:":::PLUGIN_PATH:::/ui/groups/views/group-create-and-assign.html",controller:e,controllerAs:"vm",bindings:{dismiss:"&",close:"&"}})}();