"use strict";!function(){function a(i,a,c,l,e,p){function n(a,l,i){var n=[],t=l||{};!function(a,l){l.anyRole&&a.push(e.hasAnyRole(l.anyRole))}(n,t),function(a,l){l.allRoles&&a.push(e.hasAllRoles(l.allRoles))}(n,t),function(a,l){l.readMOs&&a.push(e.canReadMOs(l.readMOs))}(n,t),function(a,l){l.adminMOs&&a.push(e.canAdminMOs(l.adminMOs))}(n,t),function(a,l){l.allApps&&a.push(p.areAllAvailable(l.allApps))}(n,t),function(a,l){l.anyApp&&a.push(p.isAnyAvailable(l.anyApp))}(n,t),c.all(n).then(_.partial(s,a)).then(_.partial(o,i))}function s(a,l){return a.allowed=_.every(l,t),a.allowed}function o(a,l){"A"===i&&(l?a.show():a.hide())}function t(a){return!!a}return"E"===i?{restrict:"E",transclude:!0,template:a?'<span ng-if="!allowed" ng-transclude></span>':'<span ng-if="allowed" ng-transclude></span>',scope:{cfg:"<?cfg",anyRole:"<?",allRoles:"<?",readMOs:"<?readMos",adminMOs:"<?adminMos",allApps:"<?",anyApp:"<?"},link:function(a,l){a.$watch("cfg",_.partial(n,a,a.cfg,l),!0),a.$watch("anyRole",_.partial(n,a,a,l),!0),a.$watch("allRoles",_.partial(n,a,a,l),!0),a.$watch("readMOs",_.partial(n,a,a,l),!0),a.$watch("adminMOs",_.partial(n,a,a,l),!0),a.$watch("allApps",_.partial(n,a,a,l),!0),a.$watch("anyApp",_.partial(n,a,a,l),!0)}}:{restrict:"A",scope:{cfg:"<?cfg",anyRole:"<?",allRoles:"<?",readMOs:"<?readMos",adminMOs:"<?adminMos",allApps:"<?",anyApp:"<?"},link:function(a,l){a.$watch("cfg",_.partial(n,a,a.cfg,l),!0),a.$watch("anyRole",_.partial(n,a,a,l),!0),a.$watch("allRoles",_.partial(n,a,a,l),!0),a.$watch("readMOs",_.partial(n,a,a,l),!0),a.$watch("adminMOs",_.partial(n,a,a,l),!0),a.$watch("allApps",_.partial(n,a,a,l),!0),a.$watch("anyApp",_.partial(n,a,a,l),!0)}}}angular.module("c8y.ui").directive("c8yIfAllowed",["$q","$compile","c8yPermissions","c8yApplication",_.partial(a,"E",!1)]).directive("c8yIfAllowed",["$q","$compile","c8yPermissions","c8yApplication",_.partial(a,"A",!1)]).directive("c8yIfNotAllowed",["$q","$compile","c8yPermissions","c8yApplication",_.partial(a,"E",!0)]).directive("c8yIfNotAllowed",["$q","$compile","c8yPermissions","c8yApplication",_.partial(a,"A",!0)])}();