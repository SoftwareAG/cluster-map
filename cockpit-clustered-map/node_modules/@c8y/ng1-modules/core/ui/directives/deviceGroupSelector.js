"use strict";!function(){function e(e,o){var r=o("Select or search group");return{link:function(u){u.placeholder=u.customPlaceholder||r,u.getDynamicGroups=_.debounce(function(e){var o=e.search;if(o&&u.groups&&!_.some(_.reject(u.groups,"newGroup"),{name:o})&&u.allowNonExistingGroup){var r=_.find(u.groups,{newGroup:!0});r?r.name=o:u.groups.push({newGroup:!0,name:o})}else _.remove(u.groups,{newGroup:!0});return u.groups}),u.onOpenClose=function(e){e&&(u.group=void 0)},u.orderBy=function(e){return(e.newGroup?"z":"a")+e.name},u.getFilterGroup=function(o){return function(e){return!o||_.includes(e.name,o)}},(u.scopeCopy=u).groups||e.list().then(function(e){u.groups=e})},restrict:"EA",scope:{group:"=",groupAsId:"=?",customPlaceholder:"@placeholder",allowNonExistingGroup:"<?",groups:"=?"},templateUrl:":::PLUGIN_PATH:::/ui/views/deviceGroupSelector.html"}}e.$inject=["c8yDeviceGroup","gettext"],angular.module("c8y.ui").directive("c8yDeviceGroupSelector",e)}();