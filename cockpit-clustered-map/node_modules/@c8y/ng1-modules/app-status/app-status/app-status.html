<c8y-breadcrumbs-set>
  <c8y-breadcrumbs-item
    path="#{{vm.basePath}}"
    label="{{vm.breadcrumbsLabel() | translate}}"
    icon="c8y-modules">
  </c8y-breadcrumbs-item>
</c8y-breadcrumbs-set>

<div class="card-group">
  <div class="col-xs-12 col-sm-12 col-md-6">
    <div class="card">
      <div class="card-header separator">
        <span class="card-title h4" translate> Instances / Subscribed tenants</span>
      </div>

      <c8y-ui-action-bar-set>
        <c8y-realtime-switch state="vm.realtime"></c8y-realtime-switch>
        
        <a href="" class="btn btn-link" title="{{'Refresh status page' | translate}}" ng-click="vm.refresh()">
          <i c8y-icon="refresh" ng-class="{'fa-spin': vm.isRefreshing()}"></i>
          <span translate>Reload</span>
        </a>
      </c8y-ui-action-bar-set>
      
      <c8y-app-instances status-fragment="vm.status" ng-if="vm.statusVisible()"></c8y-app-instances>
      
      <c8y-app-tenant-subscriptions-list mo="vm.mo" ng-if="vm.subscriptionsVisible()"></c8y-app-tenant-subscriptions-list>
      
    </div>
  </div>
  
  <div ng-if="vm.moId" class="col-xs-12 col-sm-12 col-md-6">  
    <div class="card">
      <div class="card-header separator">
        <span class="card-title h4" translate> Alarms / Events</span>
      </div>
      <c8y-app-alarms hide-device="true" realtime="vm.realtime" source-id="vm.moId" refresh-loading="vm.refreshingItems.alarms"></c8y-app-alarms>

      <c8y-app-events hide-device="true" realtime="vm.realtime" source-id="vm.moId" refresh-loading="vm.refreshingItems.events"></c8y-app-events>
    </div>
  </div>

  <div ng-if="vm.moId" class="col-xs-12 col-sm-12 col-md-6">  
    <div class="card">
      <div class="card-header separator">
        <span class="card-title h4" translate> Smart rules</span>
      </div>
      <smart-rules-list mo="vm.moId" filter="smartRulesFilter"></smart-rules-list>
    </div>
  </div>
</div>
