"use strict";!function(){function t(t,i){var a=this,s=t.tenantId,e={},n=[],c=null;function o(t){n=t}function u(t){_.forEach(t,function(t){_.find(n,{id:t.applicationId})&&(e[t.applicationId]=t)})}function r(t){var n=_.get(e,t);return i.getApplicationStatusForTenant(n,s)}_.assign(a,{$onInit:function(){(function(){var t={subscriber:s,pageSize:100,withTotalPages:!0};return i.listApplications(t)})().then(o).then(i.getApplicationMOs).then(u)},openItem:function(t){(c=c!==t?t:null)&&function(t){var n=r(t);n?function(t){a.instancesStatus=i.getInstanceCounts(_.get(t,"details"))}(n):a.instancesStatus={}}(t.id)},isOpen:function(t){return c===t},hasApplicationStatus:function(t){var n=r(t.id);return!_.isEmpty(n)},instancesStatus:{},getStatusIcon:function(t){var n=_.find(i.status.values(),{value:_.get(r(t),"status")});return _.get(n,"icon")},getStringTooltip:function(t){var n=_.find(i.status.values(),{value:_.get(r(t),"status")});return _.get(n,"label")},getSubscriptionInstances:function(t){var n=r(t.id);return _.get(n,"instances")}})}t.$inject=["$routeParams","c8yApplication"],angular.module("c8y.tenantApplications").component("c8ySubscribedApplications",{bindings:{associatedApplications:"<",dissociate:"<"},templateUrl:":::PLUGIN_PATH:::/subscribed-applications/subscribed-applications.html",controller:t,controllerAs:"vm"})}();