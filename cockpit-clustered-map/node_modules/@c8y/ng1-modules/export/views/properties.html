<div class="export-properties">
  <table class="table vertical-middle form-group">
    <colgroup>
      <col width="47.5%" />
      <col width="47.5%" />
      <col width="5%" />
    </colgroup>
    <thead>
      <th>
        <label>{{ 'Column' | translate }}</label>
      </th>
      <th>
        <label>{{ 'Path' | translate }}</label>
      </th>
      <th></th>
    </thead>
    <tbody>
      <tr
        class="property"
        ng-repeat="property in api.fields"
        ng-form="forms.property{{ $index }}"
        ng-class="{'has-error': forms.property{{ $index }}.$invalid}"
      >
        <td class="wideCell">
          <label class="editable">
            <input
              class="form-control property-label"
              data-ng-model="property.column"
              placeholder="{{ 'Column' | translate }}"
              required
            />
            <span
              ><span ng-if="property.column">{{ property.column }}</span
              ><span class="text-muted" ng-if="!property.column">{{
                'Column' | translate
              }}</span></span
            >
          </label>
        </td>
        <td>
          <label class="editable">
            <input
              class="form-control property-label"
              data-ng-model="property.path"
              placeholder="{{ 'Path' | translate }}"
              required
              ng-disabled="property.default"
            />
            <span ng-if="property.path">{{ property.path }}</span
            ><span class="text-muted" ng-if="!property.path">{{ 'Path' | translate }}</span>
          </label>
        </td>
        <td>
          <button
            title="{{ 'Delete property' | translate }}"
            type="button"
            ng-if="!property.default"
            class="btn btn-link showOnHover pull-right"
            ng-click="api.remove($index); forms['property' + $index].$setDirty();"
          >
            <i c8y-icon="minus-circle" class="text-danger"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="btn-add-block-row">
  <button
    title="{{ 'Add' | translate }}"
    type="button"
    class="btn-add-block"
    style="flex:1 1 33%"
    ng-click="api.add();"
  >
    <i c8y-icon="plus-square"></i>
    {{ 'Add' | translate }}
  </button>
  <button
    title="{{ 'Add predefined' | translate }}"
    type="button"
    class="btn-add-block"
    style="flex:1 1 33%; margin-left:10px;"
    ng-click="api.addPredefined();"
  >
    <i c8y-icon="plus-square"></i> {{ 'Add predefined' | translate }}
  </button>
  <span
    ng-if="api.template"
    style="flex:1 1 33%; margin-left:10px;"
    ng-include="api.template"
  ></span>
</div>
