<table class="table">
  <thead>
    <tr>
      <th>
        <label translate>Placeholder</label>
      </th>
      <th>
        <label translate>Target</label>
      </th>
      <th>
        <label translate>Mapped to</label>
      </th>
      <th>
        <label translate>Current value</label>
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr
      ng-repeat="mapping in mappings | orderBy:'placeholder'"
      class="property"
      ng-class="{ danger: hasError[mapping.placeholder] }"
    >
      <td>
        {{ mapping.placeholder }}
      </td>
      <td>
        <span ng-show="devices.length == 1">
          {{ devices[0].name }}
        </span>
        <select
          ng-show="devices.length > 1"
          ng-options="device.id as device.name for device in devices"
          ng-model="deviceIds[mapping.placeholder]"
          ng-change="onDeviceIdsChange()"
          required
        >
        </select>
      </td>
      <td ng-switch="!!mapping.config.configSchema">
        <a
          ng-switch-when="true"
          class="btn btn-xs btn-default"
          href=""
          ng-click="editComputedProperty(mapping)"
        >
          <i c8y-icon="bolt"></i> {{ humanizeValue(mapping) }}
        </a>
        <span ng-switch-default>{{ humanizeValue(mapping) }}</span>
      </td>
      <td class="word-break">
        {{ propertyValueFor(mapping) }}
      </td>
      <td style="width:15%">
        <button
          type="button"
          class="btn btn-danger btn-xs showOnHover pull-right"
          title="{{ 'Clear mapping' | translate }}"
          ng-click="clearMapping(mapping)"
        >
          <i c8y-icon="scissors"></i>
        </button>
        <button
          type="button"
          class="btn btn-primary btn-xs showOnHover pull-right"
          title="{{ 'Assign fieldbus property' | translate }}"
          ng-click="setFieldbusMapping(mapping)"
        >
          <i c8y-icon="tasks"></i>
        </button>
        <button
          type="button"
          class="btn btn-primary btn-xs showOnHover pull-right"
          title="{{ 'Assign device property' | translate }}"
          ng-click="setMapping(mapping)"
        >
          <i c8y-icon="pencil"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
