<div class="roles-asset-tree-list">
  <div
    ng-repeat="asset in vm.flatAssetTree | filter:vm.filterAsset | filter:{name:vm.searchFilter}"
    class="role-asset-tree-item"
  >
    <div ng-style="::{'padding-left': 5 + asset._depth * 15}" class="role-asset-tree-item_group">
      <span class="text-truncate" title="{{::asset.name}}">
        <i c8y-icon="c8y-group" ng-hide="::asset._subGroups.length"></i>
        <i c8y-icon="c8y-group-open" ng-show="::asset._subGroups.length"></i>
        {{::asset.name}}
      </span>
    </div>
    <div class="role-asset-tree-item_selector">
      <c8y-inventory-role-selector
        owner-allowed-roles="vm.ownerAllAssignedRoles[asset.id]"
        inherited-roles="vm.inheritedRoles[asset.id]"
        assigned-roles="vm.assignedRoles[asset.id]"
        inventory-roles="::vm.inventoryRoles"
        on-apply="::vm.onApply(roles, asset.id)"
      >
      </c8y-inventory-role-selector>
    </div>
  </div>
</div>
